<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VPN Telegram Mini App</title>
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–ª–µ–π –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 3s linear infinite;
        }
        body {
            background-color: #0a0a0c;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
            overflow-x: hidden;
        }
        .active-tab {
            color: #3b82f6;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="text-white font-sans pb-24 fade-in">

    <!-- Header -->
    <header class="p-6 flex justify-between items-center sticky top-0 z-50 bg-[#0a0a0c]/90 backdrop-blur-md">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-blue-600/20 border border-blue-500/30 flex items-center justify-center">
                <i data-lucide="shield" class="text-blue-400 w-5 h-5"></i>
            </div>
            <div>
                <h1 class="text-sm font-medium text-gray-400">Telegram VPN</h1>
                <div class="flex items-center gap-1.5">
                    <span class="w-2 h-2 rounded-full bg-yellow-500 animate-pulse"></span>
                    <p class="text-xs text-blue-400 font-bold uppercase tracking-wider">Premium</p>
                </div>
            </div>
        </div>
        <button class="p-2 rounded-xl bg-[#1a1a1e] border border-white/5 active:scale-90 transition-transform">
            <i data-lucide="settings" class="text-gray-400 w-5 h-5"></i>
        </button>
    </header>

    <!-- Main Screen -->
    <div id="app-content">
        <main id="home-screen" class="px-6">
            <div class="flex flex-col items-center justify-center py-6">
                <div id="connect-btn" class="relative cursor-pointer active:scale-95 transition-transform">
                    <div id="ping-effect" class="hidden absolute inset-0 rounded-full animate-ping opacity-20 bg-blue-500"></div>
                    
                    <div id="btn-ring" class="relative z-10 w-48 h-48 rounded-full border-[6px] border-[#2a2a30] bg-[#1a1a1e] flex flex-col items-center justify-center shadow-2xl transition-all duration-500">
                        <div id="icon-container">
                            <i id="lock-icon" data-lucide="lock" class="text-gray-500 w-14 h-14 mb-2"></i>
                        </div>
                        <span id="status-text" class="text-xs font-bold uppercase tracking-widest text-gray-500">–°–¢–ê–†–¢</span>
                        <span id="timer-text" class="hidden text-2xl font-mono font-bold text-white">00:00</span>
                    </div>
                </div>

                <div class="mt-8 text-center">
                    <p class="text-gray-500 text-[10px] uppercase tracking-widest mb-1">–í–∞—à IP</p>
                    <div class="flex items-center justify-center gap-2">
                        <i data-lucide="globe" class="text-gray-500 w-4 h-4" id="ip-icon"></i>
                        <p id="current-ip" class="text-lg font-mono font-medium">95.161.223.102</p>
                    </div>
                    <p id="location-text" class="text-xs text-gray-600 mt-1">–ó–∞—â–∏—Ç–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞</p>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3 mb-6">
                <div class="bg-[#15151a] p-4 rounded-2xl border border-white/5">
                    <p class="text-[10px] text-gray-500 uppercase font-bold mb-1">–°–∫–∞—á–∞–Ω–æ</p>
                    <div class="flex items-baseline gap-1">
                        <span id="stat-down" class="text-xl font-bold">0.0</span>
                        <span class="text-[10px] text-gray-500">MB</span>
                    </div>
                </div>
                <div class="bg-[#15151a] p-4 rounded-2xl border border-white/5">
                    <p class="text-[10px] text-gray-500 uppercase font-bold mb-1">–ó–∞–≥—Ä—É–∂–µ–Ω–æ</p>
                    <div class="flex items-baseline gap-1">
                        <span id="stat-up" class="text-xl font-bold">0.0</span>
                        <span class="text-[10px] text-gray-500">MB</span>
                    </div>
                </div>
            </div>

            <div onclick="switchTab('servers')" class="bg-[#15151a] border border-white/5 p-4 rounded-2xl flex items-center justify-between cursor-pointer active:opacity-80">
                <div class="flex items-center gap-3">
                    <span id="current-flag" class="text-2xl">üá≥üá±</span>
                    <div>
                        <p id="current-country" class="text-sm font-bold">–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã</p>
                        <p id="current-city" class="text-[10px] text-gray-500">–ê–º—Å—Ç–µ—Ä–¥–∞–º (–û–ø—Ç–∏–º–∞–ª—å–Ω–æ)</p>
                    </div>
                </div>
                <i data-lucide="chevron-right" class="text-gray-600 w-5 h-5"></i>
            </div>
        </main>

        <!-- Servers Screen -->
        <main id="servers-screen" class="hidden px-6 pb-24">
            <h2 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-4">–í—ã–±–æ—Ä –ª–æ–∫–∞—Ü–∏–∏</h2>
            <div id="servers-list" class="space-y-3"></div>
        </main>
    </div>

    <!-- Nav -->
    <nav class="fixed bottom-0 left-0 right-0 bg-[#0a0a0c]/90 backdrop-blur-xl border-t border-white/5 px-10 py-4 flex justify-between items-center z-50">
        <button onclick="switchTab('home')" id="tab-home" class="active-tab flex flex-col items-center gap-1">
            <i data-lucide="layout-dashboard" class="w-6 h-6"></i>
            <span class="text-[10px]">–ì–ª–∞–≤–Ω–∞—è</span>
        </button>
        <button onclick="switchTab('servers')" id="tab-servers" class="text-gray-600 flex flex-col items-center gap-1">
            <i data-lucide="globe" class="w-6 h-6"></i>
            <span class="text-[10px]">–°–µ—Ä–≤–µ—Ä–∞</span>
        </button>
    </nav>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = () => {
            lucide.createIcons();
            renderServers();
        };

        const servers = [
            { id: 1, country: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã', city: '–ê–º—Å—Ç–µ—Ä–¥–∞–º', flag: 'üá≥üá±', ip: '185.242.115.34', lat: 34 },
            { id: 2, country: '–ì–µ—Ä–º–∞–Ω–∏—è', city: '–§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç', flag: 'üá©üá™', ip: '45.12.221.90', lat: 42 },
            { id: 3, country: '–¢—É—Ä—Ü–∏—è', city: '–°—Ç–∞–º–±—É–ª', flag: 'üáπüá∑', ip: '88.255.212.11', lat: 55 },
            { id: 4, country: '–°–®–ê', city: '–ù—å—é-–ô–æ—Ä–∫', flag: 'üá∫üá∏', ip: '104.21.55.2', lat: 120 }
        ];

        let isConnected = false;
        let isConnecting = false;
        let selectedServer = servers[0];
        let sessionSeconds = 0;
        let trafficInterval;

        function switchTab(tab) {
            document.getElementById('home-screen').classList.toggle('hidden', tab !== 'home');
            document.getElementById('servers-screen').classList.toggle('hidden', tab !== 'servers');
            document.getElementById('tab-home').classList.toggle('active-tab', tab === 'home');
            document.getElementById('tab-servers').classList.toggle('active-tab', tab === 'servers');
            document.getElementById('tab-home').classList.toggle('text-gray-600', tab !== 'home');
            document.getElementById('tab-servers').classList.toggle('text-gray-600', tab !== 'servers');
        }

        function renderServers() {
            const list = document.getElementById('servers-list');
            list.innerHTML = servers.map(s => `
                <div onclick="selectServer(${s.id})" class="bg-[#15151a] border ${selectedServer.id === s.id ? 'border-blue-500/50 bg-blue-500/5' : 'border-white/5'} p-4 rounded-2xl flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">${s.flag}</span>
                        <div class="text-left">
                            <p class="text-sm font-bold">${s.country}</p>
                            <p class="text-[10px] text-gray-500">${s.city}</p>
                        </div>
                    </div>
                    <span class="text-[10px] font-mono text-gray-500">${s.lat}ms</span>
                </div>
            `).join('');
        }

        function selectServer(id) {
            selectedServer = servers.find(s => s.id === id);
            document.getElementById('current-flag').innerText = selectedServer.flag;
            document.getElementById('current-country').innerText = selectedServer.country;
            document.getElementById('current-city').innerText = selectedServer.city;
            if (isConnected) toggleVpn(); 
            renderServers();
            switchTab('home');
        }

        function toggleVpn() {
            if (isConnecting) return;
            const btnRing = document.getElementById('btn-ring');
            const statusText = document.getElementById('status-text');
            const timerText = document.getElementById('timer-text');
            const lockIcon = document.getElementById('lock-icon');
            const pingEffect = document.getElementById('ping-effect');

            if (!isConnected) {
                isConnecting = true;
                statusText.innerText = "–°–í–Ø–ó–¨...";
                lockIcon.classList.add('animate-spin-slow');
                pingEffect.classList.remove('hidden');

                setTimeout(() => {
                    isConnecting = false;
                    isConnected = true;
                    statusText.classList.add('hidden');
                    timerText.classList.remove('hidden');
                    lockIcon.classList.remove('animate-spin-slow');
                    lockIcon.setAttribute('data-lucide', 'shield-check');
                    lockIcon.classList.replace('text-gray-500', 'text-green-500');
                    btnRing.classList.replace('border-[#2a2a30]', 'border-green-500/50');
                    pingEffect.classList.replace('bg-blue-500', 'bg-green-500');
                    document.getElementById('current-ip').innerText = selectedServer.ip;
                    document.getElementById('location-text').innerText = "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ";
                    lucide.createIcons();

                    trafficInterval = setInterval(() => {
                        sessionSeconds++;
                        const m = Math.floor(sessionSeconds / 60).toString().padStart(2, '0');
                        const s = (sessionSeconds % 60).toString().padStart(2, '0');
                        timerText.innerText = `${m}:${s}`;
                        document.getElementById('stat-down').innerText = (sessionSeconds * 1.2).toFixed(1);
                        document.getElementById('stat-up').innerText = (sessionSeconds * 0.3).toFixed(1);
                    }, 1000);
                }, 1000);
            } else {
                isConnected = false;
                clearInterval(trafficInterval);
                sessionSeconds = 0;
                statusText.innerText = "–°–¢–ê–†–¢";
                statusText.classList.remove('hidden');
                timerText.classList.add('hidden');
                lockIcon.setAttribute('data-lucide', 'lock');
                lockIcon.classList.replace('text-green-500', 'text-gray-500');
                btnRing.className = "relative z-10 w-48 h-48 rounded-full border-[6px] border-[#2a2a30] bg-[#1a1a1e] flex flex-col items-center justify-center shadow-2xl transition-all duration-500";
                pingEffect.classList.add('hidden');
                pingEffect.classList.replace('bg-green-500', 'bg-blue-500');
                document.getElementById('current-ip').innerText = "95.161.223.102";
                document.getElementById('location-text').innerText = "–ó–∞—â–∏—Ç–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞";
                lucide.createIcons();
            }
        }

        document.getElementById('connect-btn').onclick = toggleVpn;
    </script>
</body>
</html>
